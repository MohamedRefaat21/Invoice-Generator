Step-by-Step Documentation for Invoice Generation and Printing
1. Create the Invoice Details Table
First, you need to create a table in your database to store invoice details. Use the following SQL script to create the INVOICE_DETAILS table:
---------------------------------
CREATE TABLE INVOICE_DETAILS (
    INVOICE_ID          NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, 
    INVOICE_NO          VARCHAR2(50),
    INVOICE_DATE        DATE,         
    PATIENT_NAME        VARCHAR2(100), 
    PATIENT_ID          VARCHAR2(50),   
    PATIENT_AGE         NUMBER,        
    PATIENT_ADDRESS     VARCHAR2(200),  
    SERVICE             VARCHAR2(100), 
    DUE_DATE            DATE,          
    INSURANCE_BILLED    VARCHAR2(100),  
    SIGNATURE_IMG       BLOB,           
    SIGNATURE_FILENAME  VARCHAR2(255),  
    SIGNATURE_MIMETYPE  VARCHAR2(50),   
    SIGNATURE_LAST_UPDATE DATE,       
    TOTAL_AMOUNT        NUMBER(10, 2),  
    PAID_AMOUNT         NUMBER(10, 2),  
    BALANCE_DUE         NUMBER(10, 2)  
);
--------------------------------------
This table includes columns for invoice number, date, patient details, service information, and amounts, along with fields for storing an electronic signature.

2. Import the Plugin
Go to Oracle APEX.
Navigate to your App Builder.
Select Shared Components.
Choose Plugins and click on Create.
Select Import and choose the file for your plugin, named template_component_plugin_invoice.
Follow the prompts to complete the import process.
3. Configure the Plugin
Go to App Builder and select your application.
Navigate to the Page Designer.
Add a new Region or edit an existing one where you want to display the invoice.
Set the Region Type to the imported plugin component.
In the plugin settings, map the columns from the INVOICE_DETAILS table to the plugin attributes.
Adjust or add any additional columns as needed for your invoice template.
4. Add a Print Button
In the Page Designer, select the page where you want to add the print button.

Add a new Button to your page (e.g., "Print Invoice").

Set the Button Action to Redirect to URL.

In the Button settings, add the following JavaScript code to execute when the button is clicked:
--------------------------------
function downloadRegionAsPDF(regionId) {
    var region = document.getElementById(regionId);
    var opt = {
        margin:       0,
        filename:     'invoice.pdf',
        image:        { type: 'jpeg', quality: 0.98 },
        html2canvas:  { scale: 2 },
        jsPDF:        { unit: 'in', format: 'letter', orientation: 'portrait' }
    };
    html2pdf().from(region).set(opt).save();
}

downloadRegionAsPDF('invoice');
----------------------------------------
Set the Static ID of the region you want to print to invoice.

5. Include JavaScript Libraries
Go to the Page Designer for the page where you added the print button.

Navigate to the Page Attributes section.

Find the Page Header section.

Add the following script links to include the necessary JavaScript libraries for generating the PDF:
-----------------------------------------
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.6.0/jspdf.umd.min.js"></script>
-----------------------------------------------------------
6. Test the Functionality
Run the application.
Navigate to the page with the invoice region and the print button.
Capture the electronic signature using the APEX Signature Plugin.
Click the print button to generate and download the invoice as a PDF.
7. Review and Finalize
Ensure that the invoice appears as expected in the PDF.
Make any necessary adjustments to the layout or data.
Review the overall functionality to ensure it meets your requirements.

For any inquiries, contact me at mohamedrefaaat21@gmail.com